module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},34983,a=>{a.v("/_next/static/media/logo.1e5eb6da.svg")},7066,65715,a=>{"use strict";a.s(["default",()=>b],7066);let b={src:a.i(34983).default,width:507,height:84,blurWidth:0,blurHeight:0};a.s(["useAuthStore",()=>j],65715);var c=a.i(72131);let d=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},e=a=>{let b=(a=>a?d(a):d)(a),e=a=>(function(a,b=a=>a){let d=c.default.useSyncExternalStore(a.subscribe,c.default.useCallback(()=>b(a.getState()),[a,b]),c.default.useCallback(()=>b(a.getInitialState()),[a,b]));return c.default.useDebugValue(d),d})(b,a);return Object.assign(e,b),e};var f=a.i(87702);async function g(a,b){let c=await fetch(`${f.BACKEND_SERVICE_URL}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b}),credentials:"include"});if(!c.ok){let a=await c.json().catch(()=>null);throw Error(a?.message||"Login failed")}return c.json()}async function h(){await fetch(`${f.BACKEND_SERVICE_URL}/auth/logout`,{method:"POST",credentials:"include"})}async function i(){let a=await fetch(`${f.BACKEND_SERVICE_URL}/auth/admin`,{credentials:"include"});if(!a.ok)throw Error("Not authenticated");return a.json()}let j=(a=>a?e(a):e)((a,b)=>({user:null,loading:!1,error:null,setError:b=>{a({error:b instanceof Error?b.message:"Something went wrong"})},login:async(c,d)=>{if(!b().loading){a({loading:!0,error:null});try{await g(c,d);let b=await i();a({user:b})}catch(b){a({error:b instanceof Error?b.message:"Login failed"})}finally{a({loading:!1})}}},logout:async()=>{try{await h()}finally{a({user:null})}},fetchUser:async()=>{try{let b=await i();a({user:b,error:null})}catch{a({user:null})}}}))},40777,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(71987),d=a.i(7066),e=a.i(65715),f=a.i(72131),g=a.i(50944);function h(){let{login:a,loading:h,error:i,user:j,fetchUser:k}=(0,e.useAuthStore)(),[l,m]=(0,f.useState)({email:"",password:""}),n=(0,g.useRouter)(),o=(0,g.usePathname)();(0,f.useEffect)(()=>{k()},[k]),(0,f.useEffect)(()=>{j&&"/"===o&&n.push("/dashboard")},[j,o,n]);let p=a=>m(b=>({...b,[a.target.id]:a.target.value})),q=async b=>{b.preventDefault(),await a(l.email,l.password)};return(0,b.jsxs)("div",{className:"flex text-black min-h-screen flex-col md:flex-row",children:[(0,b.jsxs)("div",{className:"flex flex-1 flex-col justify-center bg-gray-50 p-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(c.default,{alt:"logo",src:d.default})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Login into the  App"}),(0,b.jsx)("p",{className:"mt-2 text-gray-500",children:"Admin access only. Please sign in to continue."})]}),(0,b.jsx)("div",{className:"flex flex-1 items-center justify-center bg-white p-8 shadow-md",children:(0,b.jsxs)("div",{className:"w-full max-w-sm",children:[(0,b.jsx)("h2",{className:"mb-6 text-xl font-semibold text-gray-700",children:"Admin Login"}),(0,b.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600",children:"Email"}),(0,b.jsx)("input",{type:"email",id:"email",onChange:p,required:!0,disabled:h,value:l.email,className:"mt-1 w-full rounded-lg border border-gray-300 p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200",placeholder:"you@example.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600",children:"Password"}),(0,b.jsx)("input",{onChange:p,value:l.password,type:"password",disabled:h,required:!0,id:"password",className:"mt-1 w-full rounded-lg border border-gray-300 p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200",placeholder:"••••••••"})]}),i&&(0,b.jsx)("p",{className:"text-red-500 mt-2",children:i}),h&&(0,b.jsx)("p",{className:"text-gray-500 mt-2",children:"Please wait..."}),(0,b.jsx)("button",{disabled:h,type:"submit",className:"w-full rounded-lg bg-indigo-600 p-2 text-white hover:bg-indigo-700",children:h?"Logging in...":"Login"})]})]})})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1b1565dc._.js.map