{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/provenworks/Desktop/Knitinexus/admin-frontend/public/logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 507, height: 84, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,kHAAG;IAAE,OAAO;IAAK,QAAQ;IAAI,WAAW;IAAG,YAAY;AAAC","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/provenworks/Desktop/Knitinexus/admin-frontend/config.ts"],"sourcesContent":["export const  BACKEND_SERVICE_URL=\"http://localhost:3000\""],"names":[],"mappings":";;;;AAAO,MAAO,sBAAoB","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/provenworks/Desktop/Knitinexus/admin-frontend/src/services/auth.ts"],"sourcesContent":["import {BACKEND_SERVICE_URL} from \"../../config\";\n\nexport async function login(email: string, password: string) {\n    const res = await fetch(`${BACKEND_SERVICE_URL}/auth/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n        credentials: \"include\", // <--- send cookie\n    });\n\n    if (!res.ok) {\n        const data = await res.json().catch(() => null);\n        throw new Error(data?.message || \"Login failed\");\n    }\n\n    return res.json();\n}\n\nexport async function logout() {\n    await fetch(`${BACKEND_SERVICE_URL}/auth/logout`, {\n        method: \"POST\",\n        credentials: \"include\",\n    });\n}\n\nexport async function getMe() {\n    const res = await fetch(`${BACKEND_SERVICE_URL}/auth/admin`, {\n        credentials: \"include\",\n    });\n\n    if (!res.ok) throw new Error(\"Not authenticated\");\n    return res.json();\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe,MAAM,KAAa,EAAE,QAAgB;IACvD,MAAM,MAAM,MAAM,MAAM,AAAC,GAAsB,OAApB,gIAAmB,EAAC,gBAAc;QACzD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;QACvC,aAAa;IACjB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACT,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC1C,MAAM,IAAI,MAAM,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI;IACrC;IAEA,OAAO,IAAI,IAAI;AACnB;AAEO,eAAe;IAClB,MAAM,MAAM,AAAC,GAAsB,OAApB,gIAAmB,EAAC,iBAAe;QAC9C,QAAQ;QACR,aAAa;IACjB;AACJ;AAEO,eAAe;IAClB,MAAM,MAAM,MAAM,MAAM,AAAC,GAAsB,OAApB,gIAAmB,EAAC,gBAAc;QACzD,aAAa;IACjB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACnB","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/provenworks/Desktop/Knitinexus/admin-frontend/src/store/useAuthStore.ts"],"sourcesContent":["// store/useAuthStore.ts\nimport { create } from \"zustand\";\nimport * as authService from \"@/services/auth\";\n\ntype User = { email: string; role: string };\n\ntype AuthState = {\n    user: User | null;\n    loading: boolean;\n    error: string | null;\n    login: (email: string, password: string) => Promise<void>;\n    logout: () => Promise<void>;\n    fetchUser: () => Promise<void>;\n};\n\nexport const useAuthStore = create<AuthState>((set, get) => ({\n    user: null,\n    loading: false,\n    error: null,\n\n    // Helper for error handling\n    setError: (err: unknown) => {\n        const message = err instanceof Error ? err.message : \"Something went wrong\";\n        set({ error: message });\n    },\n\n    login: async (email, password) => {\n        if (get().loading) return; // prevent multiple requests\n        set({ loading: true, error: null });\n\n        try {\n            await authService.login(email, password); // backend sets HttpOnly cookie\n            const user = await authService.getMe();\n            set({ user });\n        } catch (err: unknown) {\n            const message = err instanceof Error ? err.message : \"Login failed\";\n            set({ error: message });\n        } finally {\n            set({ loading: false });\n        }\n    },\n\n    logout: async () => {\n        try {\n            await authService.logout();\n        } finally {\n            set({ user: null });\n        }\n    },\n\n    fetchUser: async () => {\n        try {\n            const user = await authService.getMe();\n            set({ user, error: null });\n        } catch {\n            set({ user: null });\n        }\n    },\n}));\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AACxB;AACA;;;AAaO,MAAM,eAAe,IAAA,qJAAM,EAAY,CAAC,KAAK,MAAQ,CAAC;QACzD,MAAM;QACN,SAAS;QACT,OAAO;QAEP,4BAA4B;QAC5B,UAAU,CAAC;YACP,MAAM,UAAU,eAAe,QAAQ,IAAI,OAAO,GAAG;YACrD,IAAI;gBAAE,OAAO;YAAQ;QACzB;QAEA,OAAO,OAAO,OAAO;YACjB,IAAI,MAAM,OAAO,EAAE,QAAQ,4BAA4B;YACvD,IAAI;gBAAE,SAAS;gBAAM,OAAO;YAAK;YAEjC,IAAI;gBACA,MAAM,mIAAiB,CAAC,OAAO,WAAW,+BAA+B;gBACzE,MAAM,OAAO,MAAM,mIAAiB;gBACpC,IAAI;oBAAE;gBAAK;YACf,EAAE,OAAO,KAAc;gBACnB,MAAM,UAAU,eAAe,QAAQ,IAAI,OAAO,GAAG;gBACrD,IAAI;oBAAE,OAAO;gBAAQ;YACzB,SAAU;gBACN,IAAI;oBAAE,SAAS;gBAAM;YACzB;QACJ;QAEA,QAAQ;YACJ,IAAI;gBACA,MAAM,oIAAkB;YAC5B,SAAU;gBACN,IAAI;oBAAE,MAAM;gBAAK;YACrB;QACJ;QAEA,WAAW;YACP,IAAI;gBACA,MAAM,OAAO,MAAM,mIAAiB;gBACpC,IAAI;oBAAE;oBAAM,OAAO;gBAAK;YAC5B,EAAE,UAAM;gBACJ,IAAI;oBAAE,MAAM;gBAAK;YACrB;QACJ;IACJ,CAAC","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///Users/provenworks/Desktop/Knitinexus/admin-frontend/src/components/Sidebar.tsx"],"sourcesContent":["// components/Sidebar.tsx\n\"use client\"\nimport Image from \"next/image\";\nimport logo from '../../public/logo.svg';\nimport { useState} from \"react\"\nimport Link from \"next/link\"\nimport { Menu, X, Home, Building, Users, ChevronRight } from \"lucide-react\"\nimport {useAuthStore} from \"@/store/useAuthStore\";\nimport { useRouter } from \"next/navigation\";\n\n// Navigation items array - easily configurable\nconst sidebarItems = [\n    {\n        name: \"Dashboard\",\n        href: \"/dashboard\",\n        icon: Home\n    },\n    {\n        name: \"Companies\",\n        href: \"/dashboard/companies\",\n        icon: Building\n    },\n    {\n        name: \"Users\",\n        href: \"/dashboard/users\",\n        icon: Users\n    },\n]\n\nexport default function Sidebar() {\n    const {  logout } = useAuthStore();\n    const router = useRouter();\n    const [loading, setLoading] = useState(false);\n    const [isOpen, setIsOpen] = useState(false);\n\n\n\n    // This prevents the component from interfering with navigation\n\n    const toggleSidebar = () => {\n        setIsOpen(!isOpen)\n    }\n\n    const closeSidebar = () => {\n        setIsOpen(false)\n    }\n\n    const handleLogout = async () => {\n        setLoading(true);\n        try {\n            await logout();\n            // Only redirect after successful logout\n            router.push(\"/\");\n        } catch (error) {\n            console.error(\"Logout failed:\", error);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    // Don't render sidebar if user is not authenticated\n    // Let middleware handle the redirect\n    // if (!user) {\n    //     return null;\n    // }\n\n    return (\n        <>\n            {/* Mobile Header */}\n            <div className=\"md:hidden fixed top-0 left-0 right-0 z-40 flex items-center justify-between bg-gradient-to-r from-slate-900 to-slate-800 text-white px-4 py-3 shadow-lg\">\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                        <span className=\"text-white font-bold text-sm\">A</span>\n                    </div>\n                    <h1 className=\"text-lg font-semibold\">Admin Panel</h1>\n                </div>\n                <button\n                    onClick={toggleSidebar}\n                    className=\"p-2 hover:bg-white/10 rounded-lg transition-colors duration-200\"\n                    aria-label=\"Toggle menu\"\n                >\n                    {isOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n                </button>\n            </div>\n\n            {/* Sidebar */}\n            <aside\n                className={`fixed md:static top-0 left-0 h-full w-72 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white z-50 transform transition-all duration-300 ease-out shadow-2xl\n                    ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"} \n                    md:translate-x-0 md:shadow-none`}\n            >\n                {/* Sidebar Header */}\n                <div className=\"flex items-center gap-3 p-6 border-b border-slate-700/50\">\n                    <div className=\"flex gap-2 flex-col\">\n                        <Image src={logo} alt=\"Logo\" />\n                        <p className=\"text-slate-400 text-sm\">Management Console</p>\n                    </div>\n                </div>\n\n                {/* Navigation Items */}\n                <nav className=\"flex-1 h-screen py-6\">\n                    <ul className=\"space-y-2 px-4\">\n                        {sidebarItems.map((item) => {\n                            const IconComponent = item.icon\n                            return (\n                                <li key={item.name}>\n                                    <Link\n                                        href={item.href}\n                                        onClick={closeSidebar}\n                                        className=\"group flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10 transition-all duration-200 hover:translate-x-1 active:scale-95\"\n                                    >\n                                        <IconComponent className=\"w-5 h-5 text-slate-400 group-hover:text-blue-400 transition-colors duration-200\" />\n                                        <span className=\"font-medium group-hover:text-white transition-colors duration-200\">\n                                            {item.name}\n                                        </span>\n                                        <ChevronRight className=\"w-4 h-4 text-slate-500 group-hover:text-blue-400 ml-auto opacity-0 group-hover:opacity-100 transition-all duration-200\" />\n                                    </Link>\n                                </li>\n                            )\n                        })}\n                    </ul>\n                </nav>\n\n                <div className=\"w-full px-3 flex items-center\">\n                    <button\n                        onClick={handleLogout}\n                        disabled={loading}\n                        className=\"m-auto cursor-pointer rounded-lg w-full bg-red-600 p-2 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                        {loading ? \"Logging out...\" : \"Logout\"}\n                    </button>\n                </div>\n\n                {/* Sidebar Footer */}\n                <div className=\"p-4 border-t border-slate-700/50\">\n                    <div className=\"text-xs text-slate-500 text-center\">\n                        © 2024 Admin Panel\n                    </div>\n                </div>\n            </aside>\n\n            {/* Mobile Backdrop */}\n            {isOpen && (\n                <div\n                    className=\"fixed inset-0 bg-black/60 backdrop-blur-sm md:hidden z-40 transition-opacity duration-300\"\n                    onClick={closeSidebar}\n                    aria-label=\"Close sidebar\"\n                />\n            )}\n\n            {/* Mobile content spacer */}\n            <div className=\"md:hidden h-16\" />\n        </>\n    )\n}"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;AAEzB;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAPA;;;;;;;;AASA,+CAA+C;AAC/C,MAAM,eAAe;IACjB;QACI,MAAM;QACN,MAAM;QACN,MAAM,8MAAI;IACd;IACA;QACI,MAAM;QACN,MAAM;QACN,MAAM,yNAAQ;IAClB;IACA;QACI,MAAM;QACN,MAAM;QACN,MAAM,gNAAK;IACf;CACH;AAEc,SAAS;;IACpB,MAAM,EAAG,MAAM,EAAE,GAAG,IAAA,+IAAY;IAChC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAIrC,+DAA+D;IAE/D,MAAM,gBAAgB;QAClB,UAAU,CAAC;IACf;IAEA,MAAM,eAAe;QACjB,UAAU;IACd;IAEA,MAAM,eAAe;QACjB,WAAW;QACX,IAAI;YACA,MAAM;YACN,wCAAwC;YACxC,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QACpC,SAAU;YACN,WAAW;QACf;IACJ;IAEA,oDAAoD;IACpD,qCAAqC;IACrC,eAAe;IACf,mBAAmB;IACnB,IAAI;IAEJ,qBACI;;0BAEI,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAK,WAAU;8CAA+B;;;;;;;;;;;0CAEnD,6LAAC;gCAAG,WAAU;0CAAwB;;;;;;;;;;;;kCAE1C,6LAAC;wBACG,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEV,uBAAS,6LAAC,oMAAC;4BAAC,WAAU;;;;;iDAAe,6LAAC,6MAAI;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK9D,6LAAC;gBACG,WAAW,AAAC,sMACyC,OAA/C,SAAS,kBAAkB,qBAAoB;;kCAIrD,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,2IAAK;oCAAC,KAAK,2RAAI;oCAAE,KAAI;;;;;;8CACtB,6LAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;;;;;;kCAK9C,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAG,WAAU;sCACT,aAAa,GAAG,CAAC,CAAC;gCACf,MAAM,gBAAgB,KAAK,IAAI;gCAC/B,qBACI,6LAAC;8CACG,cAAA,6LAAC,0KAAI;wCACD,MAAM,KAAK,IAAI;wCACf,SAAS;wCACT,WAAU;;0DAEV,6LAAC;gDAAc,WAAU;;;;;;0DACzB,6LAAC;gDAAK,WAAU;0DACX,KAAK,IAAI;;;;;;0DAEd,6LAAC,yOAAY;gDAAC,WAAU;;;;;;;;;;;;mCAVvB,KAAK,IAAI;;;;;4BAc1B;;;;;;;;;;;kCAIR,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BACG,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,UAAU,mBAAmB;;;;;;;;;;;kCAKtC,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;sCAAqC;;;;;;;;;;;;;;;;;YAO3D,wBACG,6LAAC;gBACG,WAAU;gBACV,SAAS;gBACT,cAAW;;;;;;0BAKnB,6LAAC;gBAAI,WAAU;;;;;;;;AAG3B;GA7HwB;;QACA,+IAAY;QACjB,kJAAS;;;KAFJ","debugId":null}}]
}